<!DOCTYPE html>
<html lang="{{ lang }}" dir="{{ 'rtl' if lang == 'ar' else 'ltr' }}">
<head>
  <meta charset="UTF-8">
  <title>{{ title or "Suchdolo" }}</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
  <script src="https://unpkg.com/@lottiefiles/lottie-player@latest/dist/lottie-player.js"></script>
</head>

<body>
  <!-- ğŸŒ Navigation Bar -->
  {% if session.get('username') %}
<nav class="navbar">
  <a href="{{ url_for('classes.classes') }}">ğŸ“˜ {{ t['classes'] }}</a>
  <a href="{{ url_for('subjects.subjects') }}">ğŸ“š {{ t['subjects'] }}</a>
  <a href="{{ url_for('ai.generate_timetable') }}">ğŸ§  {{ t['timetable'] }}</a>
  <a href="{{ url_for('study.study_plan') }}">ğŸ—“ï¸ {{ t['study_plan'] }}</a>
  <a href="{{ url_for('exams.exams') }}">ğŸ§¾ {{ t['exams'] }}</a>
  <a href="{{ url_for('homeworks.homeworks') }}">ğŸ¡ {{ t['homeworks'] }}</a>
  <a href="{{ url_for('ai_chat.ai_chat') }}">ğŸ’¬ Chat</a>
  <a href="{{ url_for('future_vision') }}">â˜€ï¸ {{ t['future_vision'] }}</a>
  <a href="{{ url_for('auth.logout') }}">ğŸ“’ {{ t['logout'] }}</a>

  {% if lang == 'ar' %}
    <a href="{{ url_for('lang.set_language', lang_code='en') }}">ğŸ‡¬ğŸ‡§ English</a>
  {% else %}
    <a href="{{ url_for('lang.set_language', lang_code='ar') }}">ğŸ‡¸ğŸ‡¦ Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</a>
  {% endif %}
  </nav>
  {% endif %}


  <!-- ğŸ’¬ Flash Messages -->
  <div class="content">
    {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
        {% for category, msg in messages %}
          <div class="flash {{ category }}">{{ msg }}</div>
        {% endfor %}
      {% endif %}
    {% endwith %}

    <!-- ğŸ“„ Page Content -->
    {% block content %}{% endblock %}
  </div>

  <!-- ğŸ§­ Footer -->
 <footer>
    <p>Â© 2025 Suchdolo | {{ t['footer'] }}</p>
</footer>

</body>
</html>
